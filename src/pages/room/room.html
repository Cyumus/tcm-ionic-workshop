<page
    [subtitle]="room.memberIds.length + ' members'"
    [title]="room.topic"
    [actions]="actions"
>

    <div class="messages" #messages padding>

        <div
            *ngFor="let message of room.messages"
            [ngClass]="{
                'message': true,
                'outgoing': message.author.authId == user.authId
            }"
        >

            <div class="bubble">

                <span class="author">
                    {{ message.author.username }}
                </span>

                <span class="text">
                    {{ message.text }}
                </span>

                <span class="info">
                    {{ message.date.calendar() }}
                </span>

            </div>

        </div>

    </div>

    <ion-footer footer>

        <ion-toolbar>

            <ion-input
                placeholder="Write a message..."
                [(ngModel)]="message"
            ></ion-input>

            <ion-buttons end>

                <button ion-button color="primary" (click)="sendMessage()">
                    Send
                </button>

            </ion-buttons>

        </ion-toolbar>

    </ion-footer>

</page>